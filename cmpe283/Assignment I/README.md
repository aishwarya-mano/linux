Group:
Aishwarya Manhorahan
Sanjay Sathyarapu

Contribution:
Aishwarya - She established the environment for Assignment 1 on a Google Cloud Platform (GCP) instance and implemented the code for the procbased tertiary structure and the procbased secondary structure.
Sanjay - Assisted with research on the exit controls as outlined in the Software Developer Manual (SDM) and provided support in coding the entry structure, exit structure, and procbased controls.

Steps:

Start by forking the Linux kernel code repo at https://github.com/torvalds/linux to create a duplicate of the source code in your own GitHub repository.


Proceed to install the required dependencies on your GCP instance with the following command:

$ sudo apt-get install libncurses-dev gawk flex bison openssl libssl-dev dkms libelf-dev libudev-dev libpci-dev libiberty-dev autoconf llvm

Clone the forked repository onto your GCP instance by executing the following command:

$ git clone https://github.com/aishwarya-mano/linux.git

Copy the file cmpe283-1.c with the following commands:

$ cd linux
$ cp /boot/[your version] .config
Refer the Intel Software Developer Manual (SDM) for reference and proceed to make necessary code modifications in cmpe283-1.c to handle entry, exit, procbased, secondary procbased, and tertiary procbased VM exit controls.


Compile the code by running the following command in the root directory:
$ make
Verify that a .ko file has been generated by using the 'ls' command.


To validate your code changes, load the module with the following commands:

$ sudo insmod cmpe283-1.ko
$ dmesg


After completing these steps, you should be able to observe the VMX capabilities of all the Model Specific Registers (MSRs) in the system.
